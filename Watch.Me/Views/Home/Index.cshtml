@{
    ViewBag.Title = "Home Page";
}

@model Watch.Me.Models.ViewModels.DisplayedVideosViewModel


<link href="~/Content/video.css" rel="stylesheet" />
<link href="~/Content/search.css" rel="stylesheet"/>

<div class="sub_nav">
    <div class="listi">
        <ul>
            <li class="active"><a href="#modern">Popular</a></li>
            <li><a href="#oldSkool">Recommended</a></li>
            <li><a href="#oldSkool">Recently Uploaded</a></li>
        </ul>
    </div>
    <div class='search'>
        <div class='search-container'>
            <input placeholder='search' type='text'>
            <a class='button'>
                <i class='icon-search'></i>
            </a>
        </div>
    </div>
</div>


    <div class="video_wrapper" id="popularVideos">
        <h2 class="title">Popular</h2>                  
            @foreach (var item in Model.PopularVideos)
            {
                <div class="video-container loading">
                    <div class="well">
                        <iframe frameborder="0" src="@item.Url"></iframe>
                    </div>


                    <div class="top-controls-bar off">
                        <div class="info">
                            <h2 class="title">
                                @* TODO: Kristijan change the title of the video. It looks ugly :) *@
                                
                                @Html.ActionLink(@item.VideoTitle, "Index", "WatchVideo", new { videoId = @item.Id }, new { @class = "navbar-brand" })
                            </h2>
                        </div>
                        <span class="fullscreen icon-resize-full"></span>
                    </div>
                </div>
            }              
    </div>



<div class="video_wrapper" id="recentlyUploaded">
    <h2 class="title">Recent videos</h2>
    @foreach (var item in Model.RecentVideos)
    {
        <div class="video-container loading">
            <div class="well">
                <iframe frameborder="0" src="@item.Url"></iframe>
            </div>


            <div class="top-controls-bar off">
                <div class="info">
                    <h2 class="title">

                        @Html.ActionLink(@item.VideoTitle, "Index", "WatchVideo", new { videoId = @item.Id }, new { @class = "navbar-brand" })
                    </h2>
                </div>
                <span class="fullscreen icon-resize-full"></span>
            </div>
        </div>
    }
</div>


@if (Model.LoggedUser == true)
{
    <div class="video_wrapper" id="recomended">
        <h2 class="title">Recommended videos</h2>
        @foreach (var item in Model.ReccomendedVideos)
        {
            <div class="video-container loading">
                <div class="well">
                    <iframe frameborder="0" src="@item.Url"></iframe>
                </div>


                <div class="top-controls-bar off">
                    <div class="info">
                        <h2 class="title">

                            @Html.ActionLink(@item.VideoTitle, "Index", "WatchVideo", new { videoId = @item.Id }, new { @class = "navbar-brand" })
                        </h2>
                    </div>
                    <span class="fullscreen icon-resize-full"></span>
                </div>
            </div>
        }
    </div>
}






<script src="http://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>

<script src="~/Scripts/video.js"></script>
<style>
    #redirect {
        width: 30%;
        cursor: pointer;
    }
</style>

<script>
    jQuery(document).ready(function ($) {
        $('#youtube1').mediaelementplayer();
    });
</script>